<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Options - TTV LOL PRO</title>
    <link rel="icon" href="../images/brand/favicon.ico" />
    <link rel="stylesheet" href="../common/css/boilerplate.css" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div class="title-container">
          <img
            src="../images/brand/icon.png"
            alt="Icon of TTV LOL PRO"
            class="icon"
          />
          <h1 class="title">Options</h1>
        </div>
        <div id="buttons-container">
          <button id="export-button">Back up to file…</button>
          <button id="import-button">Restore from file…</button>
          <button id="reset-button">Reset to default settings…</button>
        </div>
      </header>

      <main>
        <!-- Passport -->
        <section id="passport" class="section">
          <h2>Passport</h2>
          <div id="passport-type-container">
            <img
              src="../images/passport.png"
              alt="TTV LOL PRO passport"
              id="passport-type-image"
            />
            <div id="passport-type-slider-container">
              <input
                type="range"
                name="passport-type-slider"
                id="passport-type-slider"
                min="0"
                max="2"
                step="1"
                list="passport-type-slider-datalist"
              />
              <datalist id="passport-type-slider-datalist">
                <option value="0" label="Ordinary"></option>
                <option value="1" label="Official"></option>
                <option value="2" label="Diplomatic"></option>
              </datalist>
            </div>
            <details id="passport-type-proxy-usage">
              <summary id="passport-type-proxy-usage-summary"></summary>
              <table id="passport-type-proxy-usage-table">
                <tbody>
                  <tr>
                    <td>passport.twitch.tv</td>
                    <td id="passport-type-proxy-usage-passport"></td>
                  </tr>
                  <tr>
                    <td>usher.ttvnw.net</td>
                    <td id="passport-type-proxy-usage-usher"></td>
                  </tr>
                  <tr>
                    <td>video-weaver.*.hls.ttvnw.net</td>
                    <td id="passport-type-proxy-usage-video-weaver"></td>
                  </tr>
                  <tr>
                    <td>gql.twitch.tv</td>
                    <td id="passport-type-proxy-usage-gql"></td>
                  </tr>
                  <tr>
                    <td>www.twitch.tv</td>
                    <td id="passport-type-proxy-usage-www"></td>
                  </tr>
                </tbody>
              </table>
            </details>
          </div>
          <ul class="options-list">
            <li>
              <input
                type="checkbox"
                name="anonymous-mode-checkbox"
                id="anonymous-mode-checkbox"
              />
              <label for="anonymous-mode-checkbox">
                Enable anonymous mode
              </label>
              <br />
              <small>
                Watch streams as if you were logged out. This option removes
                authentication headers from requests to Twitch.
              </small>
            </li>
          </ul>
        </section>

        <!-- Whitelisted channels -->
        <section id="whitelisted-channels" class="section">
          <h2>Whitelisted channels</h2>
          <small>
            Support your favorite content creators by whitelisting their
            channels.
          </small>
          <br class="chromium-only" />
          <small class="chromium-only">
            On Chromium-based browsers, whitelisting only works when all opened
            Twitch tabs are whitelisted channels.
          </small>
          <ul id="whitelisted-channels-list" class="store-list"></ul>
        </section>

        <!-- Proxies -->
        <section id="proxies" class="section">
          <h2>Proxies</h2>
          <small>
            Proxies listed below must be HTTP proxies in the format
            <code>hostname:port</code>. To provide authentication credentials,
            use the format <code>username:password@hostname:port</code>.
          </small>
          <br />
          <small>
            IPv6 addresses must be enclosed in square brackets, for example
            <code>[::1]:8080</code>.
          </small>
          <br />
          <fieldset>
            <div>
              <input
                type="radio"
                name="proxy-mode"
                id="optimized"
                value="optimized"
                checked
              />
              <label for="optimized">Proxy ad requests only</label>
              <ol id="optimized-proxies-list" class="store-list" start="0"></ol>
            </div>
            <div>
              <input
                type="radio"
                name="proxy-mode"
                id="normal"
                value="normal"
              />
              <label for="normal">Proxy all requests</label>
              <ol id="normal-proxies-list" class="store-list" start="0"></ol>
            </div>
          </fieldset>
          <small>
            Looking for other proxies? Check out the "<a
              href="https://github.com/younesaassila/ttv-lol-pro/discussions/130"
              target="_blank"
              >List of other proxies</a
            >" discussion on TTV LOL PRO's GitHub repository.
          </small>
        </section>

        <!-- Ad log -->
        <section id="ad-log" class="firefox-only section">
          <h2>Ad log</h2>
          <small>
            If enabled, TTV LOL PRO will log all ads that did not get blocked
            for debugging purposes. Entries are automatically removed after 7
            days.
          </small>
          <ul class="options-list">
            <li>
              <input
                type="checkbox"
                name="ad-log-enabled-checkbox"
                id="ad-log-enabled-checkbox"
              />
              <label for="ad-log-enabled-checkbox">Enable ad log</label>
            </li>
          </ul>
          <button id="ad-log-send-button" class="btn-primary">
            Send ad log to developer…
          </button>
          <button id="ad-log-export-button">Export ad log…</button>
          <button id="ad-log-clear-button">Clear ad log</button>
        </section>

        <!-- Troubleshooting -->
        <section id="troubleshooting" class="chromium-only section">
          <h2>Troubleshooting</h2>
          <br />
          <button id="unset-pac-script-button">Unset PAC script</button>
        </section>
      </main>

      <footer>
        <small>
          <a
            href="https://github.com/younesaassila/ttv-lol-pro"
            target="_blank"
            rel="noopener noreferrer"
            >Contribute on GitHub</a
          >
        </small>
        <small id="version"></small>
      </footer>
    </div>

    <script type="module" src="./options.ts"></script>
  </body>
</html>
